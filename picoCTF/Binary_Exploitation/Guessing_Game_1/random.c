#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/stat.h>

long get_random(){
	return rand;
}

int do_stuff(){
	long ans = (get_random() % 4096) + 1;
	int res = 0;
    printf("ans is %ld\n", ans);
	return res;
}

int main(int argc, char **argv){
	setvbuf(stdout, NULL, _IONBF, 0);
	// Set the gid to the effective gid
	// this prevents /bin/sh from dropping the privileges
	gid_t gid = getegid();
	setresgid(gid, gid, gid);
    int res;
    for(int i = 0; i < 10; i++){
		res = do_stuff();
    }
    return 0;
}
